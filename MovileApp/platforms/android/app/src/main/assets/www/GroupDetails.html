<!DOCTYPE html>
<html lang="en">
<head>
        <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' http://* 'unsafe-inline'; script-src 'self' http://* 'unsafe-inline' 'unsafe-eval'" />
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        
        <link rel="stylesheet" href="OnsenUI\css\onsenui.css">
        <link rel="stylesheet" href="OnsenUI\css\dark-onsen-css-components.min.css">
        <link rel="stylesheet" href="css\login.css">
    
        <title>GroupsDetails</title>
</head>
<body ng-app="GpApp" >

    <!-- Main View Container -->
    <ons-page ng-controller="GpCtrl">

        <ons-toolbar>
            <div class="left"><ons-back-button ng-click="GoDashBoard()"></ons-back-button></div>
        </ons-toolbar>

        <ons-tabbar swipeable position="bottom">
            <ons-tab label="Voting List" page="voitinglist.html"  icon="fa-list" active></ons-tab>
            <ons-tab label="Request" page="AdmsnRequest.html"  icon="fa-envelope" badge="{{AdReques}}"></ons-tab>
            <ons-tab label="Members" page=""  icon="fa-users"></ons-tab>
            <ons-tab label="Archived" page="" icon="fa-trash"></ons-tab>
            <ons-tab label="Settings" page=""  icon="fa-cogs"></ons-tab>            
        </ons-tabbar>

    </ons-page>
    <!-- Main View Container -->

    <!-- Voting List Container -->
    <template id="voitinglist.html">
        <ons-page id="Tab1" ng-controller="VotingListCtrl">
            
            <!-- Group Name container -->
            <div style="text-align:center; margin-top: 3%">
                <ons-row class="cs_title">
                    <ons-col width="90%">
                        <h3>{{GroupInfo.GroupName | uppercase}}</h3>
                    </ons-col>

                    <ons-col width="10%">
                        <ons-button class="rounded" style="left:-266%;" ng-click="newVotingList.show();">
                            <ons-icon icon="fa-plus"></ons-icon>
                        </ons-button>
                    </ons-col>
                </ons-row>
            </div>
            <!-- Group Name container -->

            <!-- Voting list Statue Zero Container -->
            <div style="text-align: center; margin-top: 25%;" ng-if="VotingList.length == 0">
                <img src="img\sad.png" alt="">
                <h4 style="color:#dadada">you dont have voting list yet</h4>
                <ons-button ripple style="background-color:#1a3b6d" ng-click="newVotingList.show();">Start New voting list</ons-button>
            </div>            
            <!-- Voting list Statue Zero Container -->

            <!-- Voting List Container -->
            <ons-card ng-repeat="v in VotingList" ng-click="OpenVotingList(v)">
                <div class="title">{{v.ListName | uppercase}}</div>
                <div class="content">
                    <p>Votes: <span class="notification">{{v.VotesCast}}</span></p>                    
                    <p ng-hide="v.ScheduledDate == null">Shedule Date: {{ v.ScheduledDate.split('(')[1].split(')/')[0] | date:'EEEE, d MMM yyyy hh:m a' }}</p>
                </div>
            </ons-card>
            <!-- Voting List Container -->

            <!-- New Voting List Dialog Container -->
            <ons-alert-dialog var="newVotingList" ng-controller="VotingListCtrl">
                <div class="alert-dialog-title">Start new voting List</div>

                <div class="alert-dialog-content">
                    <form>
                        <p>
                            <ons-input placeholder="Name" ng-model="GroupName" modifier="underbar" float type="text"></ons-input>
                        </p>

                        <p>
                            <ons-input placeholder="Schedule Date" ng-model="SheduleDate" modifier="underbar" float type="datetime-local" style="width: 90%"></ons-input>
                        </p>
                        <p>
                            <span class="cs_error">{{ErrorMessage}}</span>
                        </p>
                    </form>                    
                </div>

                <div class="alert-dialog-footer">
                    <button type="button" class="alert-dialog-button" ng-click="newVotingList.hide()">Cancel</button>
                    <button type="button" class="alert-dialog-button" ng-click="CreateVotingListByGroupId()">Save</button>                
                </div>
            </ons-alert-dialog>
            <!-- New Voting List Dialog Container -->

        </ons-page>
    </template>
    <!-- Voting List Container -->

    <!-- Admissins request Conatiner -->
    <template id="AdmsnRequest.html">
        <ons-page ng-controller="RequestCtrl">
            
            <ons-list>
                <ons-list-header>Admisison Requests</ons-list-header>
                <ons-list-item ng-repeat="r in Requests" tappable>
                    <div class="left">{{r.UserName | uppercase}}</div>
                    <div class="right"><span class="notification" ng-if="r.StatusRequest_Id != 0">new</span></div>
                </ons-list-item>
            </ons-list>

        </ons-page>
    </template>

</body>
</html>

<script type="text/javascript" src="cordova.js"></script>
<script src="OnsenUI\js\onsenui.min.js"></script>

<!-- Angular js -->
<script src="js\Angularjs1.7.6.min.js"></script>
<script src="OnsenUI\js\angular-onsenui.js"></script>

<script src="js\App\GroupDetails.js"></script>

